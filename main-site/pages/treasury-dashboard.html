<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Treasury Management Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .dashboard-header {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }
        
        .dashboard-header h1 {
            color: #111827;
            margin-bottom: 10px;
        }
        
        .treasury-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .stat-card.primary { border-left: 4px solid #3b82f6; }
        .stat-card.success { border-left: 4px solid #10b981; }
        .stat-card.warning { border-left: 4px solid #f59e0b; }
        .stat-card.info { border-left: 4px solid #8b5cf6; }
        
        .stat-label {
            font-size: 13px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 8px;
        }
        
        .stat-change {
            font-size: 13px;
            color: #10b981;
        }
        
        .section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        
        .section-header h2 {
            color: #111827;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .balances-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
        }
        
        .balance-card {
            padding: 20px;
            background: #f9fafb;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
        }
        
        .token-info {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .token-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }
        
        .token-details h3 {
            font-size: 16px;
            color: #111827;
        }
        
        .token-details p {
            font-size: 12px;
            color: #6b7280;
        }
        
        .balance-amount {
            font-size: 24px;
            font-weight: 700;
            color: #111827;
            margin-bottom: 4px;
        }
        
        .balance-usd {
            font-size: 14px;
            color: #6b7280;
        }
        
        .payments-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .payments-table th {
            background: #f9fafb;
            padding: 12px 16px;
            text-align: left;
            font-size: 13px;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .payments-table td {
            padding: 16px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-approved { background: #d1fae5; color: #065f46; }
        .status-executed { background: #dbeafe; color: #1e40af; }
        .status-rejected { background: #fee2e2; color: #991b1b; }
        
        .budget-bars {
            margin-top: 20px;
        }
        
        .budget-item {
            margin-bottom: 24px;
        }
        
        .budget-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .budget-name {
            font-weight: 600;
            color: #111827;
        }
        
        .budget-amounts {
            font-size: 14px;
            color: #6b7280;
        }
        
        .budget-bar {
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .budget-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #8b5cf6 100%);
            transition: width 0.5s ease;
        }
        
        .budget-fill.warning { background: linear-gradient(90deg, #f59e0b 0%, #ef4444 100%); }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="dashboard-header">
            <h1>ðŸ’° Treasury Management Dashboard</h1>
            <p>Multi-token treasury with budgets, streaming payments & approvals</p>
        </div>

        <!-- Stats Overview -->
        <div class="treasury-stats">
            <div class="stat-card primary">
                <div class="stat-label">Total Treasury Value</div>
                <div class="stat-value" id="total-value">$0</div>
                <div class="stat-change">â†‘ +12.5% this month</div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-label">Available Balance</div>
                <div class="stat-value" id="available-value">$0</div>
                <div class="stat-change">Ready to deploy</div>
            </div>
            
            <div class="stat-card warning">
                <div class="stat-label">Pending Payments</div>
                <div class="stat-value" id="pending-count">0</div>
                <div class="stat-change">Awaiting approval</div>
            </div>
            
            <div class="stat-card info">
                <div class="stat-label">Monthly Spent</div>
                <div class="stat-value" id="monthly-spent">$0</div>
                <div class="stat-change">Across all departments</div>
            </div>
        </div>

        <!-- Token Balances -->
        <div class="section">
            <div class="section-header">
                <h2>Token Balances</h2>
                <button class="btn btn-primary" onclick="addToken()">
                    <i class="fas fa-plus"></i> Add Token
                </button>
            </div>
            <div class="balances-grid" id="balances-grid">
                <!-- Balances will be loaded here -->
            </div>
        </div>

        <!-- Department Budgets -->
        <div class="section">
            <div class="section-header">
                <h2>Department Budgets</h2>
                <button class="btn btn-primary" onclick="allocateBudget()">
                    <i class="fas fa-chart-pie"></i> Allocate Budget
                </button>
            </div>
            <div class="budget-bars" id="budget-bars">
                <!-- Budget bars will be loaded here -->
            </div>
        </div>

        <!-- Pending Payments -->
        <div class="section">
            <div class="section-header">
                <h2>Pending Payments</h2>
                <button class="btn btn-primary" onclick="createPayment()">
                    <i class="fas fa-paper-plane"></i> New Payment
                </button>
            </div>
            <table class="payments-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Recipient</th>
                        <th>Amount</th>
                        <th>Department</th>
                        <th>Type</th>
                        <th>Status</th>
                        <th>Approvals</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="payments-tbody">
                    <!-- Payments will be loaded here -->
                </tbody>
            </table>
        </div>

        <!-- Recent Transactions -->
        <div class="section">
            <div class="section-header">
                <h2>Recent Transactions</h2>
                <button class="btn btn-primary" onclick="viewAllTransactions()">
                    <i class="fas fa-list"></i> View All
                </button>
            </div>
            <table class="payments-table">
                <thead>
                    <tr>
                        <th>TX Hash</th>
                        <th>Type</th>
                        <th>Token</th>
                        <th>Amount</th>
                        <th>From/To</th>
                        <th>Time</th>
                    </tr>
                </thead>
                <tbody id="transactions-tbody">
                    <!-- Transactions will be loaded here -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Mock data for demonstration
        document.addEventListener('DOMContentLoaded', () => {
            loadTreasuryStats();
            loadBalances();
            loadBudgets();
            loadPendingPayments();
            loadTransactions();
        });

        function loadTreasuryStats() {
            document.getElementById('total-value').textContent = '$2,450,000';
            document.getElementById('available-value').textContent = '$1,850,000';
            document.getElementById('pending-count').textContent = '12';
            document.getElementById('monthly-spent').textContent = '$285,000';
        }

        function loadBalances() {
            const balances = [
                { symbol: 'ETH', name: 'Ethereum', balance: '500', usd: '$1,500,000' },
                { symbol: 'USDC', name: 'USD Coin', balance: '750,000', usd: '$750,000' },
                { symbol: 'DAI', name: 'Dai', balance: '200,000', usd: '$200,000' }
            ];

            const grid = document.getElementById('balances-grid');
            grid.innerHTML = balances.map(token => `
                <div class="balance-card">
                    <div class="token-info">
                        <div class="token-icon">${token.symbol[0]}</div>
                        <div class="token-details">
                            <h3>${token.symbol}</h3>
                            <p>${token.name}</p>
                        </div>
                    </div>
                    <div class="balance-amount">${token.balance}</div>
                    <div class="balance-usd">${token.usd}</div>
                </div>
            `).join('');
        }

        function loadBudgets() {
            const budgets = [
                { dept: 'Development', token: 'USDC', allocated: 100000, spent: 65000 },
                { dept: 'Marketing', token: 'USDC', allocated: 50000, spent: 38000 },
                { dept: 'Operations', token: 'USDC', allocated: 75000, spent: 42000 }
            ];

            const container = document.getElementById('budget-bars');
            container.innerHTML = budgets.map(budget => {
                const percent = (budget.spent / budget.allocated) * 100;
                const isWarning = percent > 80;
                return `
                    <div class="budget-item">
                        <div class="budget-header">
                            <span class="budget-name">${budget.dept}</span>
                            <span class="budget-amounts">${budget.spent.toLocaleString()} / ${budget.allocated.toLocaleString()} ${budget.token}</span>
                        </div>
                        <div class="budget-bar">
                            <div class="budget-fill ${isWarning ? 'warning' : ''}" style="width: ${percent}%"></div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadPendingPayments() {
            const payments = [
                { id: 1, recipient: '0x1234...5678', amount: '10,000 USDC', dept: 'Development', type: 'ONE_TIME', approvals: '1/2' },
                { id: 2, recipient: '0xabcd...efgh', amount: '5,000 DAI', dept: 'Marketing', type: 'STREAMING', approvals: '0/2' }
            ];

            const tbody = document.getElementById('payments-tbody');
            tbody.innerHTML = payments.map(p => `
                <tr>
                    <td>#${p.id}</td>
                    <td>${p.recipient}</td>
                    <td>${p.amount}</td>
                    <td>${p.dept}</td>
                    <td>${p.type}</td>
                    <td><span class="status-badge status-pending">PENDING</span></td>
                    <td>${p.approvals}</td>
                    <td>
                        <button class="btn btn-primary" onclick="approvePayment(${p.id})">Approve</button>
                    </td>
                </tr>
            `).join('');
        }

        function loadTransactions() {
            const txs = [
                { hash: '0x1234...', type: 'PAYMENT', token: 'USDC', amount: '10,000', to: '0xabcd...', time: '2 hours ago' },
                { hash: '0x5678...', type: 'DEPOSIT', token: 'ETH', amount: '50', to: 'Treasury', time: '5 hours ago' }
            ];

            const tbody = document.getElementById('transactions-tbody');
            tbody.innerHTML = txs.map(tx => `
                <tr>
                    <td>${tx.hash}</td>
                    <td>${tx.type}</td>
                    <td>${tx.token}</td>
                    <td>${tx.amount}</td>
                    <td>${tx.to}</td>
                    <td>${tx.time}</td>
                </tr>
            `).join('');
        }

        function approvePayment(id) {
            alert(`Approving payment #${id}`);
        }

        function createPayment() {
            alert('Create new payment modal will open');
        }

        function allocateBudget() {
            alert('Allocate budget modal will open');
        }

        function addToken() {
            alert('Add token modal will open');
        }

        function viewAllTransactions() {
            alert('View all transactions page');
        }
    </script>
</body>
</html>
